= LameGFX

image:Blit.png[]

LameGFX provides a hyper-speed drawing engine for LameStation graphics. It is the foundation of all other LameStation graphics.

----
gfx : "LameGFX"
----

Demos for this object can be found in the `/demos/graphics/` folder of the SDK.

== Commands

- `gfx.Start` - Initialize the LameGFX drawing library.
- `gfx.Clear` - Clear the screen to black.
- `gfx.Fill` - Fill the screen with a repeating word `color`.
- `gfx.Blit` - Draw a screen-sized image at (0,0).
- `gfx.Sprite` - Draw an image of any size to (x,y).
- `gfx.Map` - Draw a tile-based level map.
- `gfx.InvertColor` - Invert black and white pixels sprite drawing.

*Advanced Commands*

- `gfx.SetClipRectangle` - Change the portion of the screen that will be drawn to by LameGFX.
- `gfx.WaitToDraw` - Wait until the last drawing operation has completed before continuing.

== Constants

- `BLACK`, `GRAY`, `WHITE`, `TRANSPARENT` - predefined colors for filling the screen with `gfx.Fill`.
- `SCREEN_W`, `SCREEN_H` - the width and height of the screen.

== About

Call `gfx.Start` to start LameGFX. It should only be started once at the beginning of your program, before all drawing operations.

Clear the screen to black with `gfx.Clear`, or fill to any color with `gfx.Fill`.

Call `gfx.Sprite` to draw images to the screen. If an image is exactly 128x64 pixels, use `gfx.Blit` for much faster drawing.

Use `gfx.Map` to draw level maps directly, or you can use LameMap for more functionality.

`gfx.InvertColor` changes all black pixels to white, and vice versa. This is useful as a cool effect or reusing graphics.

=== Advanced Usage

==== Clipping

LameGFX supports clipping, which allows you to limit the part of the screen that functions will draw to. This is useful if, for example, you want to show half of an image, or a progress bar that can fill up.

Call `gfx.SetClipRectangle` to set the clipping region, which is a rectangle from (0,0) to (128,64) by default. It will remain that size until you reset it to its normal size.

==== Direct Drawing

You can draw to the LameGFX buffer directly. First, you must enable access. This is done by grabbing its address during setup.

----
VAR
    word    buffer
PUB
    lcd.Start(buffer := gfx.Start)
----

You can now access the 2048-byte block of memory pointed to by `buffer`.

LameGFX will wait until the previous drawing command is finished before starting a new one. However, advanced users may want to create their own drawing functions. If so, use `gfx.WaitToDraw` to ensure your function plays well with LameGFX.

== Sprite Format

